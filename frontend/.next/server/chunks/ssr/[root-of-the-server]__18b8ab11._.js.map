{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///D:/Software/NextJS/blog-app/frontend/src/app/posts/new/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function NewPost() {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [body, setBody] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  const router = useRouter();\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setErrorMsg(null);\r\n\r\n    const postData = { title, content: body };\r\n\r\n    try {\r\n      const res = await axios.post(\"http://localhost:8000/api/blogs\", postData);\r\n\r\n      // Redirect to post detail (assuming API returns the new post's ID)\r\n      const newPostId = res.data.id;\r\n      router.push(`/posts/${newPostId}`);\r\n    } catch (error) {\r\n      setErrorMsg(error.response?.data?.detail || error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <h1>Create New Post</h1>\r\n      <form onSubmit={handleSubmit} className=\"mb-4\">\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n          <input\r\n            id=\"title\"\r\n            className=\"form-control\"\r\n            type=\"text\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            required\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"body\" className=\"form-label\">Content</label>\r\n          <textarea\r\n            id=\"body\"\r\n            className=\"form-control\"\r\n            rows={5}\r\n            value={body}\r\n            onChange={(e) => setBody(e.target.value)}\r\n            required\r\n            disabled={loading}\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\r\n          {loading ? \"Posting...\" : \"Post\"}\r\n        </button>\r\n      </form>\r\n\r\n      {errorMsg && (\r\n        <div className=\"alert alert-danger\">Error: {errorMsg}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzC,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAChB,WAAW;QACX,YAAY;QAEZ,MAAM,WAAW;YAAE;YAAO,SAAS;QAAK;QAExC,IAAI;YACF,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,mCAAmC;YAEhE,mEAAmE;YACnE,MAAM,YAAY,IAAI,IAAI,CAAC,EAAE;YAC7B,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,WAAW;QACnC,EAAE,OAAO,OAAO;YACd,YAAY,MAAM,QAAQ,EAAE,MAAM,UAAU,MAAM,OAAO;QAC3D,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAQ,WAAU;0CAAa;;;;;;0CAC9C,8OAAC;gCACC,IAAG;gCACH,WAAU;gCACV,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,QAAQ;gCACR,UAAU;;;;;;;;;;;;kCAId,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAO,WAAU;0CAAa;;;;;;0CAC7C,8OAAC;gCACC,IAAG;gCACH,WAAU;gCACV,MAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;gCACvC,QAAQ;gCACR,UAAU;;;;;;;;;;;;kCAId,8OAAC;wBAAO,MAAK;wBAAS,WAAU;wBAAkB,UAAU;kCACzD,UAAU,eAAe;;;;;;;;;;;;YAI7B,0BACC,8OAAC;gBAAI,WAAU;;oBAAqB;oBAAQ;;;;;;;;;;;;;AAIpD","debugId":null}}]
}