{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 109, "column": 0}, "map": {"version":3,"sources":["file:///D:/Software/NextJS/blog-app/frontend/src/app/posts/%5Bid%5D/edit/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, use } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport axios from \"axios\";\r\n\r\nexport default function EditPost({ params }) {\r\n  const { id } = use(params); // unwrap the params safely\r\n  const router = useRouter();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // Fetch post data to pre-fill form\r\n  useEffect(() => {\r\n    axios\r\n      .get(`http://localhost:8000/api/blogs/${id}`)\r\n      .then((res) => {\r\n        setTitle(res.data.title);\r\n        setContent(res.data.content);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setError(\"Failed to load post.\");\r\n        setLoading(false);\r\n      });\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      await axios.put(`http://localhost:8000/api/blogs/${id}`, {\r\n        title,\r\n        content,\r\n      });\r\n\r\n      router.push(`/posts/${id}`);\r\n    } catch (err) {\r\n      setError(\"Failed to update post.\");\r\n    }\r\n  };\r\n\r\n  if (loading) return <div className=\"container py-5\">Loading...</div>;\r\n  if (error) return <div className=\"container py-5 text-danger\">{error}</div>;\r\n\r\n  return (\r\n    <div className=\"container py-5\">\r\n      <h1>Edit Post</h1>\r\n      <form onSubmit={handleSubmit} className=\"mb-4\">\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"title\" className=\"form-label\">Title</label>\r\n          <input\r\n            id=\"title\"\r\n            className=\"form-control\"\r\n            value={title}\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"content\" className=\"form-label\">Content</label>\r\n          <textarea\r\n            id=\"content\"\r\n            className=\"form-control\"\r\n            rows={5}\r\n            value={content}\r\n            onChange={(e) => setContent(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary\">Update Post</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,SAAS,EAAE,MAAM,EAAE;IACzC,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,qMAAA,CAAA,MAAG,AAAD,EAAE,SAAS,2BAA2B;IACvD,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,mCAAmC;IACnC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,qIAAA,CAAA,UAAK,CACF,GAAG,CAAC,CAAC,gCAAgC,EAAE,IAAI,EAC3C,IAAI,CAAC,CAAC;YACL,SAAS,IAAI,IAAI,CAAC,KAAK;YACvB,WAAW,IAAI,IAAI,CAAC,OAAO;YAC3B,WAAW;QACb,GACC,KAAK,CAAC;YACL,SAAS;YACT,WAAW;QACb;IACJ,GAAG;QAAC;KAAG;IAEP,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI;YACF,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,CAAC,gCAAgC,EAAE,IAAI,EAAE;gBACvD;gBACA;YACF;YAEA,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,IAAI;QAC5B,EAAE,OAAO,KAAK;YACZ,SAAS;QACX;IACF;IAEA,IAAI,SAAS,qBAAO,8OAAC;QAAI,WAAU;kBAAiB;;;;;;IACpD,IAAI,OAAO,qBAAO,8OAAC;QAAI,WAAU;kBAA8B;;;;;;IAE/D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;gBAAK,UAAU;gBAAc,WAAU;;kCACtC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAQ,WAAU;0CAAa;;;;;;0CAC9C,8OAAC;gCACC,IAAG;gCACH,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gCACxC,QAAQ;;;;;;;;;;;;kCAIZ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAM,SAAQ;gCAAU,WAAU;0CAAa;;;;;;0CAChD,8OAAC;gCACC,IAAG;gCACH,WAAU;gCACV,MAAM;gCACN,OAAO;gCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;gCAC1C,QAAQ;;;;;;;;;;;;kCAIZ,8OAAC;wBAAO,MAAK;wBAAS,WAAU;kCAAkB;;;;;;;;;;;;;;;;;;AAI1D","debugId":null}}]
}